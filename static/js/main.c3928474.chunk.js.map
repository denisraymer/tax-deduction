{"version":3,"sources":["page/Page404.js","assets/images/icon-close.svg","hooks/useValidateForm.js","hooks/useCalculation.js","components/Form.js","components/Modal.js","hooks/useModal.js","page/Main.js","containers/App.js","containers/ErrorBoundary/ErrorIndicator.js","containers/ErrorBoundary/index.js","containers/ErrorBoundary/ErrorBoundary.js","index.js"],"names":["Page404","className","to","useValidateForm","useState","inputStatus","setInputStatus","inputValue","setInputValue","disable","setDisabled","firstRender","useRef","useEffect","current","disableElement","formValidation","status","prevDisabled","prevInputStatus","onChangeInput","value","target","replace","prevInputValue","useCalculation","earlyPayments","setEarlyPayments","onCalculation","salary","array","annualTax","maxDeduction","push","prevEarlyPayments","Form","Fragment","htmlFor","type","id","placeholder","onChange","event","disabled","onClick","Number","length","map","amountTax","number","toString","Modal","isShowingModal","isClosingModal","ReactDOM","createPortal","aria-modal","aria-hidden","tabIndex","role","data-dismiss","aria-label","src","IconClose","alt","document","body","useModal","isShowing","setIsShowing","Main","App","exact","path","component","ErrorIndicator","props","errorMessage","ErrorBoundary","state","hasError","error","errorInfo","this","setState","children","Component","render","getElementById"],"mappings":"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","file":"static/js/main.c3928474.chunk.js","sourcesContent":["import React from 'react';\nimport {Link} from 'react-router-dom';\n\nexport function Page404() {\n    return (\n        <div className='not-found'>\n            <div className='not-found__title'>\n                <div className='number'>404</div>\n                Вероятнее всего вам <Link to='/' className='not-found__link'>сюда</Link>\n            </div>\n        </div>\n    );\n}","export default __webpack_public_path__ + \"static/media/icon-close.beb7d290.svg\";","import {useEffect, useRef, useState} from 'react';\n\nconst useValidateForm = () => {\n    const [inputStatus, setInputStatus] = useState(false)\n    const [inputValue, setInputValue] = useState('')\n    const [disable, setDisabled] = useState(true)\n    const firstRender = useRef(true)\n\n    useEffect(() => {\n        if (firstRender.current) {\n            firstRender.current = false\n            return\n        }\n\n        disableElement(formValidation())\n    }, [inputValue])\n\n    const disableElement = (status) => {\n        setDisabled(prevDisabled => {\n            prevDisabled = status\n            return prevDisabled\n        });\n    }\n\n    const onChangeInput = (value) => {\n        value = value.target.value.replace(/[^\\d]/g, '').replace(/\\s/g, '').replace(/(\\d)(?=(\\d{3})+$)/g, '$1 ')\n\n        setInputValue(prevInputValue => {\n            prevInputValue = value\n            return prevInputValue\n        })\n    }\n\n    const formValidation = () => {\n        if (inputValue === '') {\n            setInputStatus(prevInputStatus => {\n                prevInputStatus = !inputStatus\n                return prevInputStatus\n            })\n            return true\n        } else {\n            setInputStatus(false)\n            return false\n        }\n    }\n\n    return {\n        disableElement,\n        onChangeInput,\n        inputStatus,\n        inputValue,\n        disable\n    }\n}\n\nexport default useValidateForm","import {useState} from 'react';\n\nconst useCalculation = () => {\n    const [earlyPayments, setEarlyPayments] = useState([])\n\n    function onCalculation(salary) {\n        salary = (salary * 12) * 0.13\n\n        let array = [{annualTax: salary}]\n        let maxDeduction = 260000\n\n        if (maxDeduction > salary) {\n            let i = 0\n\n            while (maxDeduction > salary) {\n                (maxDeduction -= salary) > salary ? array.push({annualTax: salary}) : array.push({annualTax: maxDeduction})\n                ++i\n            }\n        }\n\n        setEarlyPayments(prevEarlyPayments => {\n            prevEarlyPayments = [...array]\n            return prevEarlyPayments\n        })\n    }\n\n    return {\n        earlyPayments,\n        onCalculation\n    }\n}\n\nexport default useCalculation","import React from 'react';\nimport useValidateForm from '../hooks/useValidateForm';\nimport useCalculation from '../hooks/useCalculation';\n\nfunction Form() {\n    const {onChangeInput, inputValue, inputStatus, disable} = useValidateForm()\n    const {earlyPayments, onCalculation} = useCalculation()\n\n    return (\n        <React.Fragment>\n            <div className={inputStatus ? 'form-group form-group_error' : 'form-group'}>\n                <label htmlFor='inputSalary' className='form-group__label'>Ваша зарплата в месяц</label>\n                <input\n                    type='text'\n                    className='form-group__input'\n                    id='inputSalary'\n                    value={inputValue}\n                    placeholder='Введите данные'\n                    onChange={event => onChangeInput(event)}\n                />\n                {inputStatus && <div className='form-group__message'>Поле обязательно для заполнения!</div>}\n            </div>\n            <button className='button button_link' disabled={disable}\n                    onClick={() => onCalculation(Number(inputValue.replace(/[^\\d]/g, '')))}>Рассчитать\n            </button>\n            {earlyPayments.length ?\n                <div className='modal__title modal__title_small'>Итого можете внести в качестве досрочных:</div> : null}\n            {earlyPayments.map((amountTax, number) => {\n                return (\n                    <div className='form-check modal__form-check' key={number + number}>\n                        <label className='form-check__label'>\n                            {amountTax.annualTax.toString().replace(/\\..*/, '').replace(/(\\d)(?=(\\d{3})+$)/g, '$1 ')} рублей\n                            <span className='form-check__year'> в {number + 1}-ый год</span>\n                            <input className='form-check__input' type='checkbox'/>\n                            <span className='form-check__mark'/>\n                        </label>\n                    </div>\n                )\n            })}\n        </React.Fragment>\n    )\n}\n\nexport default Form\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport IconClose from '../assets/images/icon-close.svg';\nimport Form from './Form';\n\nconst Modal = ({isShowingModal, isClosingModal}) => isShowingModal ? ReactDOM.createPortal(\n    <React.Fragment>\n        <div className='modal-wrapper' aria-modal aria-hidden tabIndex={-1} role='dialog'>\n            <div className='modal'>\n                <div className='modal__header'>\n                    <div className='modal__title'>Налоговый вычет</div>\n                    <button type='button' className='button button_link modal__close-button' data-dismiss='modal'\n                            aria-label='Close'\n                            onClick={isClosingModal}>\n                        <img src={IconClose} alt='Close' aria-hidden='true'/>\n                    </button>\n                </div>\n                <div className='modal__content'>\n                    <div className='modal__paragraph'>Используйте налоговый вычет чтобы погасить ипотеку досрочно.\n                        Размер налогового вычета составляет не более 13% от своего официального годового дохода.\n                    </div>\n                    <Form />\n                    <div className='tag-group modal__tag-group'>\n                        <div className='tag-group__title'>Что уменьшаем?</div>\n                        <button type='button' className='button button_tag button_tag-active'>Платёж</button>\n                        <button type='button' className='button button_tag'>Срок</button>\n                    </div>\n                </div>\n                <div className='modal__footer'>\n                    <button type='button' className='button modal__footer-button'>Добавить</button>\n                </div>\n            </div>\n        </div>\n    </React.Fragment>\n    , document.body\n) : null\n\nexport default Modal","import {useState} from 'react';\n\nconst useModal = () => {\n    const [isShowing, setIsShowing] = useState(false);\n\n    function toggle() {\n        setIsShowing(!isShowing);\n    }\n\n    return {\n        isShowingModal: isShowing,\n        isClosingModal: toggle,\n    }\n}\n\nexport default useModal","import React from 'react';\nimport Modal from '../components/Modal';\nimport useModal from '../hooks/useModal';\n\nfunction Main() {\n    const {isShowingModal, isClosingModal} = useModal();\n\n    return (\n        <div className='container'>\n            <button className='button button_ghost' onClick={isClosingModal}>Налоговый вычет</button>\n            <Modal isShowingModal={isShowingModal} isClosingModal={isClosingModal}/>\n        </div>\n    )\n}\n\nexport default Main\n","import React from 'react';\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom';\nimport {Page404} from '../page/Page404';\nimport Main from '../page/Main';\n\nfunction App() {\n    return (\n        <Router>\n            <Switch>\n                <Route exact path='/' component={Main}/>\n                <Route component={Page404}/>\n            </Switch>\n        </Router>\n    )\n}\n\nexport default App\n","import React from 'react';\n\nconst ErrorIndicator = (props) => {\n    const {errorMessage = 'Error'} = props;\n\n    return (\n        <div className='not-found'>\n            <div className='not-found__title'>\n                {errorMessage}\n            </div>\n        </div>\n    );\n};\n\nexport default ErrorIndicator;","import ErrorBoundary from './ErrorBoundary';\n\nexport default ErrorBoundary","import React, {Component} from 'react';\nimport ErrorIndicator from './ErrorIndicator';\n\nclass ErrorBoundary extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            hasError: false\n        };\n    };\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({\n            hasError: true\n        });\n    };\n\n    render() {\n        if (this.state.hasError) {\n            return <ErrorIndicator errorMessage='Имеется ошибка, попробуйте позже'/>\n        }\n\n        return this.props.children;\n    };\n}\n\nexport default ErrorBoundary;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/styles/main.scss';\nimport App from './containers/App';\nimport ErrorBoundary from './containers/ErrorBoundary';\n\nReactDOM.render(\n    <ErrorBoundary>\n        <App/>\n    </ErrorBoundary>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}